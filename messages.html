<!DOCTYPE html>
<html lang="En">
<head>
  <meta charset="utf-8">
  <title>Archieved Gift Certificates</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <h1>Archieved Gift Certificates</h1>
  <div id="alertMessagesContainer"></div>

  <script>
    // Retrieve alert messages from local storage
    var alertMessages = JSON.parse(localStorage.getItem('alertMessages')) || [];

    // Process the alert messages
    alertMessages.forEach(function(messageContent) {
      // Create a new paragraph element
      var paragraph = document.createElement('p');

      // Generate the message content
      var message = "Dear " + messageContent.recipientFirstName + ",<br><br>" +
        "Please find your " + messageContent.giftName + " gift certificate from " + messageContent.buyerFirstName + " via this link:<br><br>" + "<a href='" + messageContent.url + "' target='_blank'>" + "ButterDaySpaGiftCertificate-" + messageContent.giftName + "-" + messageContent.voucher + "-" + messageContent.costCode + ".pdf</a>";

      // Set the paragraph content to the constructed message
      paragraph.innerHTML = message;

      // Append the paragraph to the container div
      document.getElementById('alertMessagesContainer').appendChild(paragraph);
    });


    // Clear local storage on refresh
  //  window.onbeforeunload = function() {
  //     localStorage.clear();
  //   }; 
  </script>
</body>
</html>
